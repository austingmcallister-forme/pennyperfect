(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[248],{2898:function(e,s,r){"use strict";r.d(s,{Z:function(){return createLucideIcon}});var t=r(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,s)=>{let r=(0,t.forwardRef)(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:l,...d},m)=>(0,t.createElement)("svg",{ref:m,...n,width:a,height:a,stroke:r,strokeWidth:o?24*Number(i)/Number(a):i,className:`lucide lucide-${toKebabCase(e)}`,...d},[...s.map(([e,s])=>(0,t.createElement)(e,s)),...(Array.isArray(l)?l:[l])||[]]));return r.displayName=`${e}`,r}},3067:function(e,s,r){"use strict";r.d(s,{Z:function(){return n}});var t=r(2898);let n=(0,t.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6245:function(e,s,r){"use strict";r.d(s,{Z:function(){return n}});var t=r(2898);let n=(0,t.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},3258:function(e,s,r){Promise.resolve().then(r.bind(r,9888))},9888:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return NewExperimentPage}});var t=r(7437),n=r(2265),a=r(4033),i=r(1396),o=r.n(i),l=r(3067),d=r(6245);function NewExperimentPage(){let e=(0,a.useRouter)(),[s,r]=(0,n.useState)({bandId:"",cadenceHours:24,revertThresholdRpv:.01,minSessions:500,minCycles:3}),[i,m]=(0,n.useState)(!1),handleSubmit=async r=>{r.preventDefault(),m(!0);try{let r=await fetch("/api/experiments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(r.ok){let s=await r.json();e.push("/experiments/".concat(s.id))}else console.error("Failed to create experiment")}catch(e){console.error("Error creating experiment:",e)}finally{m(!1)}},handleChange=e=>{let{name:s,value:t}=e.target;r(e=>({...e,[s]:s.includes("Rpv")?parseFloat(t):parseInt(t)||t}))};return(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)(o(),{href:"/experiments",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,t.jsx)(l.Z,{className:"h-4 w-4 mr-1"}),"Back to Experiments"]}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"New Experiment"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Create a switchback test to find optimal price endings"})]}),(0,t.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Experiment Configuration"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"bandId",className:"block text-sm font-medium text-gray-700",children:"Price Band"}),(0,t.jsxs)("select",{id:"bandId",name:"bandId",value:s.bandId,onChange:handleChange,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[(0,t.jsx)("option",{value:"",children:"Select a price band"}),[{id:"1",name:"Mid-Range Products ($20-$50)",minCents:2e3,maxCents:5e3},{id:"2",name:"Premium Products ($50-$100)",minCents:5e3,maxCents:1e4}].map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Choose which price range to test"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"cadenceHours",className:"block text-sm font-medium text-gray-700",children:"Switch Cadence (hours)"}),(0,t.jsx)("input",{type:"number",id:"cadenceHours",name:"cadenceHours",value:s.cadenceHours,onChange:handleChange,min:"1",max:"168",required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"How often to switch between price endings (1-168 hours)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"revertThresholdRpv",className:"block text-sm font-medium text-gray-700",children:"RPV Improvement Threshold"}),(0,t.jsx)("input",{type:"number",id:"revertThresholdRpv",name:"revertThresholdRpv",value:s.revertThresholdRpv,onChange:handleChange,min:"0",max:"1",step:"0.01",required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Minimum RPV improvement to promote (0.01 = 1% improvement)"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"minSessions",className:"block text-sm font-medium text-gray-700",children:"Minimum Sessions"}),(0,t.jsx)("input",{type:"number",id:"minSessions",name:"minSessions",value:s.minSessions,onChange:handleChange,min:"100",required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Minimum sessions per period"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"minCycles",className:"block text-sm font-medium text-gray-700",children:"Minimum Cycles"}),(0,t.jsx)("input",{type:"number",id:"minCycles",name:"minCycles",value:s.minCycles,onChange:handleChange,min:"2",required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Minimum cycles before decision"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)(o(),{href:"/experiments",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,t.jsxs)("button",{type:"submit",disabled:i||!s.bandId,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),i?"Creating...":"Create Experiment"]})]})]})]})})}},622:function(e,s,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=r(2265),n=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function q(e,s,r){var t,l={},d=null,m=null;for(t in void 0!==r&&(d=""+r),void 0!==s.key&&(d=""+s.key),void 0!==s.ref&&(m=s.ref),s)a.call(s,t)&&!o.hasOwnProperty(t)&&(l[t]=s[t]);if(e&&e.defaultProps)for(t in s=e.defaultProps)void 0===l[t]&&(l[t]=s[t]);return{$$typeof:n,type:e,key:d,ref:m,props:l,_owner:i.current}}s.jsx=q,s.jsxs=q},7437:function(e,s,r){"use strict";e.exports=r(622)},1396:function(e,s,r){e.exports=r(8326)},4033:function(e,s,r){e.exports=r(94)}},function(e){e.O(0,[326,971,472,744],function(){return e(e.s=3258)}),_N_E=e.O()}]);