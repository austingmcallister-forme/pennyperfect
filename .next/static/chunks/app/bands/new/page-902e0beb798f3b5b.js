(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[903],{2898:function(e,t,s){"use strict";s.d(t,{Z:function(){return createLucideIcon}});var n=s(2265),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,t)=>{let s=(0,n.forwardRef)(({color:s="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:d,children:o,...i},c)=>(0,n.createElement)("svg",{ref:c,...l,width:r,height:r,stroke:s,strokeWidth:d?24*Number(a)/Number(r):a,className:`lucide lucide-${toKebabCase(e)}`,...i},[...t.map(([e,t])=>(0,n.createElement)(e,t)),...(Array.isArray(o)?o:[o])||[]]));return s.displayName=`${e}`,s}},3067:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var n=s(2898);let l=(0,n.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6245:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var n=s(2898);let l=(0,n.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},2689:function(e,t,s){Promise.resolve().then(s.bind(s,470))},470:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return NewBandPage}});var n=s(7437),l=s(2265),r=s(4033),a=s(1396),d=s.n(a),o=s(3067),i=s(2898);let c=(0,i.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),m=(0,i.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var u=s(6245);function NewBandPage(){let e=(0,r.useRouter)(),[t,s]=(0,l.useState)({name:"",minCents:0,maxCents:0,allowedEndings:[99],floorCents:"",excludeCollections:[],excludeSkus:[]}),[a,i]=(0,l.useState)(!1),[x,h]=(0,l.useState)(""),[b,p]=(0,l.useState)(""),handleSubmit=async s=>{s.preventDefault(),i(!0);try{let s=await fetch("/api/bands",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,floorCents:t.floorCents?parseInt(t.floorCents):void 0})});if(s.ok){let t=await s.json();e.push("/bands/".concat(t.id))}else console.error("Failed to create band")}catch(e){console.error("Error creating band:",e)}finally{i(!1)}},handleChange=e=>{let{name:t,value:n}=e.target;s(e=>({...e,[t]:t.includes("Cents")?parseInt(n)||0:n}))},toggleEnding=e=>{s(t=>({...t,allowedEndings:t.allowedEndings.includes(e)?t.allowedEndings.filter(t=>t!==e):[...t.allowedEndings,e]}))},addCollection=()=>{x.trim()&&(s(e=>({...e,excludeCollections:[...e.excludeCollections,x.trim()]})),h(""))},removeCollection=e=>{s(t=>({...t,excludeCollections:t.excludeCollections.filter((t,s)=>s!==e)}))},addSku=()=>{b.trim()&&(s(e=>({...e,excludeSkus:[...e.excludeSkus,b.trim()]})),p(""))},removeSku=e=>{s(t=>({...t,excludeSkus:t.excludeSkus.filter((t,s)=>s!==e)}))};return(0,n.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,n.jsxs)("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsxs)(d(),{href:"/bands",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,n.jsx)(o.Z,{className:"h-4 w-4 mr-1"}),"Back to Price Bands"]}),(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Price Band"}),(0,n.jsx)("p",{className:"mt-2 text-gray-600",children:"Define a price range and allowed endings for your experiments"})]}),(0,n.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,n.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Configuration"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Band Name"}),(0,n.jsx)("input",{type:"text",id:"name",name:"name",value:t.name,onChange:handleChange,required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"e.g., Mid-Range Products"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"minCents",className:"block text-sm font-medium text-gray-700",children:"Minimum Price (cents)"}),(0,n.jsx)("input",{type:"number",id:"minCents",name:"minCents",value:t.minCents,onChange:handleChange,min:"0",required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"2000"}),(0,n.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["$",(t.minCents/100).toFixed(2)]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"maxCents",className:"block text-sm font-medium text-gray-700",children:"Maximum Price (cents)"}),(0,n.jsx)("input",{type:"number",id:"maxCents",name:"maxCents",value:t.maxCents,onChange:handleChange,min:"0",required:!0,className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"5000"}),(0,n.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["$",(t.maxCents/100).toFixed(2)]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allowed Price Endings"}),(0,n.jsx)("div",{className:"flex space-x-2",children:[99,95,90,85,80].map(e=>(0,n.jsxs)("button",{type:"button",onClick:()=>toggleEnding(e),className:"px-3 py-2 text-sm font-medium rounded-md border ".concat(t.allowedEndings.includes(e)?"bg-blue-100 text-blue-800 border-blue-300":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"),children:[".",e]},e))}),(0,n.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Select which price endings to test"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"floorCents",className:"block text-sm font-medium text-gray-700",children:"Floor Price (cents) - Optional"}),(0,n.jsx)("input",{type:"number",id:"floorCents",name:"floorCents",value:t.floorCents,onChange:handleChange,min:"0",className:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"1500"}),(0,n.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Minimum price to respect ($",(parseInt(t.floorCents)/100).toFixed(2)||"0.00",")"]})]})]})]}),(0,n.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Exclusions"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exclude Collections"}),(0,n.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,n.jsx)("input",{type:"text",value:x,onChange:e=>h(e.target.value),className:"flex-1 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Collection handle",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),addCollection())}),(0,n.jsx)("button",{type:"button",onClick:addCollection,className:"px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:(0,n.jsx)(c,{className:"h-4 w-4"})})]}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:t.excludeCollections.map((e,t)=>(0,n.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e,(0,n.jsx)("button",{type:"button",onClick:()=>removeCollection(t),className:"ml-1 text-red-600 hover:text-red-800",children:(0,n.jsx)(m,{className:"h-3 w-3"})})]},t))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exclude SKUs"}),(0,n.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,n.jsx)("input",{type:"text",value:b,onChange:e=>p(e.target.value),className:"flex-1 border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"SKU",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),addSku())}),(0,n.jsx)("button",{type:"button",onClick:addSku,className:"px-3 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:(0,n.jsx)(c,{className:"h-4 w-4"})})]}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:t.excludeSkus.map((e,t)=>(0,n.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e,(0,n.jsx)("button",{type:"button",onClick:()=>removeSku(t),className:"ml-1 text-red-600 hover:text-red-800",children:(0,n.jsx)(m,{className:"h-3 w-3"})})]},t))})]})]})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,n.jsx)(d(),{href:"/bands",className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,n.jsxs)("button",{type:"submit",disabled:a||0===t.allowedEndings.length,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,n.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),a?"Creating...":"Create Band"]})]})]})]})})}},622:function(e,t,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=s(2265),l=Symbol.for("react.element"),r=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,s){var n,o={},i=null,c=null;for(n in void 0!==s&&(i=""+s),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(c=t.ref),t)r.call(t,n)&&!d.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:l,type:e,key:i,ref:c,props:o,_owner:a.current}}t.jsx=q,t.jsxs=q},7437:function(e,t,s){"use strict";e.exports=s(622)},1396:function(e,t,s){e.exports=s(8326)},4033:function(e,t,s){e.exports=s(94)}},function(e){e.O(0,[326,971,472,744],function(){return e(e.s=2689)}),_N_E=e.O()}]);